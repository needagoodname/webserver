# webserver

秋招准备的项目，改了改也作为毕设项目顺利通过。不能说借鉴，抄了很多现成的内容。
项目主要就是烂大街的webserver，由于学的信安，所以添加了“能够保障部分安全”的IP过滤，实现也很简单。
项目需改善的部分很多，做个简介也方便自己日后看，虽然大概率不会再看。

服务器封装为Server类。
使用有限状态机解析/编写HTTP报文，使用OpenSSL实现的HTTPS通信。
实现了缓冲池/内存池/线程池，将子线程封装为对象管理，线程池负载均衡采用轮询。
日志采用局部静态变量实现的单例模式。
IP过滤分为布隆过滤器实现的黑名单与字典树实现的白名单（但项目中没有实际用到，不保证效率）。
定时器实现了set作为管理容器以及时间轮两种，项目中使用的是set。

## 部分可能可优化方向
HTTP任务没有明显的执行顺序，线程池可以使用任务窃取（参考JVM）。
内存池没有实际应用，可以酌情使用。
项目采用单Reactor，可以实现主从Reactor。
定时管理功能简单，可以优化；定时器与连接类耦合程度仍较高。
连接池实现简单。
异步日志可进一步结合缓冲池优化。
欠缺负载均衡策略。
欠缺权限认证机制。
没有连接数据库

## 参考的部分书籍
《Linux高性能服务器编程》游双
《Linux多线程服务器端编程》陈硕
《Effective C++》
《C++ Primer》等
还有大量博客，不一一列举。
